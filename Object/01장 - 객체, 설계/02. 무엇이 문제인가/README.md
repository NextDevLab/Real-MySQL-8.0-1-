# 02. 무엇이 문제인가

### 들어가기 앞서..

- 소프트웨어 모듈이 가져야 하는 세 가지 기능
    1. 실행 중에 제대로 동작하는 것
    2. 간단한 작업만으로 변경이 가능해야하는 것
    3. 코드를 읽는 사람과 의사소통 하는 것(쉽게 읽고 이해)

### 예상을 빗나가는 코드

> 앞에서 작성한 코드의 문제점은 변경의 용이성과 의사소통의 기능을 만족하지 못한다. 
> 어느 부분이?
>1. Theater의 enter 메서드
><br>- 관람객과 판매원이 소극장의 통제를 받는 수동적인 존재이다.
><br>- 즉, 소극장이 관람객의 가방을 열어 초대장을 확인하고 돈을 가져간다.
><br>- 이런 흐름은 우리의 예상을 벗어나고 상식과는 너무나도 다르게 동작하며, 이것은 이해 가능한 코드가 아니라는 것이다.
>
>2. 여러 세부적인 내용을 한꺼번에 기억하고 있어야 한다. 
><br> - enter 메서드를 이해하기 위해서 Audience가 Bag을 가지고 있고, Bag 안에는 현금과 티켓이 들어있으며 TicketSeller가 TicketOffice에서 티켓을 판매하고, TicketOffice안에 돈과 티켓이 보관돼 있다는 모든 사실을 알아야 한다.
>
>3. 가장 심각한 문제는 Audience와 TicketSeller를 변경할 경우 Theater도 함께 변경해야 한다.
> 

### 변경에 취약한 코드

- 만약 관람객이 가방을 들고 있지 않다면? 관람객이 현금이 아니라 신용카드를 들고 있다면? 판매원이 매표소 밖에서 티켓을 판매해야 한다면?
- 위와 같은 가정이 생길수록 모든 코드가 흔들린다.
- 이러한 문제는 객체 사이의 의존성과 관련된 문제다.
- 의존성이란 어떤 객체가 변경될 때, 그 객체에 의존하는 다른 객체도 함께 변경될 수 있다는 사실을 내포한다.
- 그렇다고 의존성을 완전히 없애는 것은 정답이 아니다.
- 객체 사이의 의존성이 과한 경우를 결합도가 높다고 한다.
- 설계의 목표는 객체 사이의 결합도를 낮춰 변경이 용이한 설계를 만들어야 한다.